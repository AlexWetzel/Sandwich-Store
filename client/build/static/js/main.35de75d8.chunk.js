(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={panel:"Ingredient_panel__3AOsF",outOfStock:"Ingredient_outOfStock__3uiwX",selected:"Ingredient_selected__1BQH3",image:"Ingredient_image__1dW71"}},13:function(e,t,n){e.exports={menu_container:"Menu_menu_container__3-PgW",submit:"Menu_submit__2MbnJ",order_num_panel:"Menu_order_num_panel__1tvXF",order_num:"Menu_order_num__3EiRb"}},14:function(e,t,n){e.exports={order_panel:"Order_order_panel__1LPcT",order_items:"Order_order_items__3W1yG",total:"Order_total__31fxZ"}},16:function(e,t,n){e.exports={name:"Item_name__3a8Gj",image:"Item_image__1li23"}},17:function(e,t,n){e.exports={cancel_btn:"ItemWrapper_cancel_btn__187wi",submit_btn:"ItemWrapper_submit_btn__1jhmw"}},18:function(e,t,n){e.exports={menu_btn:"IngredientWrapper_menu_btn__2krYy"}},31:function(e,t,n){e.exports=n(72)},47:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(28),o=n.n(c),i=n(2),s=n(3),l=n(5),u=n(4),m=n(6),d=n(16),p=n.n(d),h=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-6"},r.a.createElement("div",{className:"".concat(p.a.name," media m-2 shadow ").concat(this.props.isInStock),onClick:this.props.onClick},r.a.createElement("img",{className:p.a.image,src:this.props.imgSrc,alt:this.props.name+" sandwich"}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h1",null,this.props.name),r.a.createElement("h3",null,"$"+this.props.price))))}}]),t}(a.Component),f=n(75),g=n(17),v=n.n(g),b=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"display-4 text-center"},"Sandwiches"),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"row"},this.props.children),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement(f.a,{to:"/"},r.a.createElement("div",{className:"".concat(v.a.cancel_btn," text-center mr-3 p-1")},r.a.createElement("h2",{className:"align-middle"},"Cancel Order")))),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"".concat(v.a.submit_btn," text-center mr-3 p-1 ").concat(this.props.buttonDisplay),onClick:this.props.onClick},r.a.createElement("h2",{className:"align-middle"},"Submit Order"))))))}}]),t}(a.Component),E=n(10),_=n.n(E),k=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"".concat(_.a.panel," m-3 shadow text-center ").concat(this.props.isInStock," ").concat(this.props.isselected),onClick:this.props.onClick},r.a.createElement("img",{className:_.a.image,src:this.props.imgSrc,alt:this.props.name}),r.a.createElement("h2",null,this.props.name),r.a.createElement("p",null,r.a.createElement("b",null,"Out of stock"))))}}]),t}(a.Component),O=n(18),y=n.n(O),j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"m-3 text-center display-4"},"Choose Your Ingredients"),r.a.createElement("div",{className:"p-2"},r.a.createElement("div",{className:"row"},this.props.children)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3 offset-3"},r.a.createElement("div",{className:"".concat(y.a.menu_btn," shadow-sm"),onClick:this.props.previous},"Back")),r.a.createElement("div",{className:"col-3"},r.a.createElement("div",{className:"".concat(y.a.menu_btn," shadow-sm"),onClick:this.props.next},"Next"))))}}]),t}(a.Component),N=n(14),S=n.n(N),I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).bottom=function(){var e=n.orderItems.scrollHeight-n.orderItems.clientHeight;n.orderItems.scrollTop=e>0?e:0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.bottom()}},{key:"componentDidUpdate",value:function(){this.bottom()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:S.a.order_panel},r.a.createElement("div",{className:S.a.order_items,ref:function(t){e.orderItems=t}},this.props.children),r.a.createElement("h2",{className:"".concat(S.a.total," mr-4")},"Total: ","$"+this.props.total))}}]),t}(a.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("li",null,this.props.name)}}]),t}(a.Component),x=(n(47),function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Order-Item clearfix"},r.a.createElement("span",{className:"delete-btn mr-2",onClick:this.props.onClick},r.a.createElement("span",{className:"oi oi-x",title:"x","aria-hidden":"true"})),r.a.createElement("div",{className:"order-item-info"},r.a.createElement("span",{className:"name h5"},r.a.createElement("strong",null,this.props.name+" Sandwich")),r.a.createElement("span",{className:"price h5"},r.a.createElement("strong",null,"$"+this.props.price)),r.a.createElement("ul",null,this.props.children)))}}]),t}(a.Component)),C=n(76),P=n(13),T=n.n(P),M=n(12),D=n.n(M),R=function(e){function t(e){var n,a=this;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={order:[],timeOver:!1,orderPage:0,total:0,orderNumber:0},n.stockTest=function(e){return e.forEach(function(e){e.stock=1}),e},n.ingredientToggle=function(e){var t=n.state.order.length-1,a=n.state.order[t].ingredients.indexOf(e.name);-1===a?e.stock>0&&(e.stock--,n.addIngredient(e)):(e.stock++,n.removeIngredient(a))},n.addOrderItem=function(e,t){if(t){var a={id:e.id,type:e.type,meat:e.meat,ingredients:[],price:e.price},r=n.props.inventory;a.meat.forEach(function(e){var t=r.find(function(t){return t.name===e.name});t.stock-=e.quantity,console.log(t.name,t.stock)});var c=n.state.total;c+=e.price;var o=n.state.order.slice();o.push(a),n.setState({order:o,total:c}),n.nextPage()}},n.deleteSandwich=function(e){var t=n.props.inventory,a=n.state.order[e],r=a.meat,c=a.ingredients;r.forEach(function(e){var n=t.find(function(t){return t.name===e.name});n.stock+=e.quantity,console.log(n.name,n.stock)}),c.forEach(function(e){var n=t.find(function(t){return t.name===e});n.stock++,console.log(n.name,n.stock)});var o=n.state.order;o.splice(e,1),n.setState({order:o}),(e===n.state.order.length-1&&n.state.orderPage<4||0===o.length)&&n.setState({orderPage:0})},n.addIngredient=function(e){var t=n.state.order.slice();t[n.state.order.length-1].ingredients.push(e.name),n.setState({order:t})},n.removeIngredient=function(e){var t=n.state.order.slice();t[n.state.order.length-1].ingredients.splice(e,1),n.setState({order:t})},n.deleteIngredient=function(e,t){var a=n.state.order[t].ingredients.indexOf(e),r=n.state.order.slice();r[t].ingredients.splice(a,1),n.setState({order:r})},n.calculateTotal=function(){var e=0;return n.state.order.forEach(function(t){e+=t.price}),e.toFixed(2)},n.nextPage=function(){if(3!==n.state.orderPage){var e=n.state.orderPage;e++,n.setState({orderPage:e})}else n.setState({orderPage:0})},n.previousPage=function(){var e=n.state.orderPage;if(1===e){var t=n.state.order.length-1;n.deleteSandwich(t)}e--,n.setState({orderPage:e})},n.moreFood=function(){n.setState({orderPage:0})},n.reset=function(){n.setState({order:[],orderPage:0})},n.checkout=function(){var e=n.state.order;D.a.post("/api/order",e).then(function(e){console.log(e),n.setState({orderPage:5,orderNumber:e.data.orderNumber}),n.props.getMenuData(),setTimeout(function(){n.setState({timeOver:!0})},5e3)}).catch(function(e){console.log(e)})},n.sandwichStock=function(e){var t=!0;return e.forEach(function(e){var a=n.props.inventory.find(function(t){return t.name===e.name});e.quantity>a.stock&&(t=!1)}),t},n.nameToImgSrc=function(e){var t=e;return t="./images/"+(t=t.replace(" ","_"))+"_200x120.png"},n.orderNumber=function(){return Math.floor(100*Math.random())+1},n.pageRender=function(){var e;switch(n.state.orderPage){case 0:return r.a.createElement(b,{buttonDisplay:0===n.state.order.length?"d-none":"",onClick:n.checkout},n.props.menuData.sandwiches.map(function(e){var t=n.sandwichStock(e.meat);return r.a.createElement(h,{key:e.type,name:e.type,price:e.price,isInStock:!0===t?"inStock":_.a.outOfStock,imgSrc:n.nameToImgSrc(e.type),onClick:function(){return n.addOrderItem(e,t)}})}));case 1:return e=n.props.inventory.filter(function(e){return"sauce"===e.type}),r.a.createElement(a.ingredientsRender,{ingredients:e});case 2:return e=n.props.inventory.filter(function(e){return"cheese"===e.type}),r.a.createElement(a.ingredientsRender,{ingredients:e});case 3:return e=n.props.inventory.filter(function(e){return"veggies"===e.type}),r.a.createElement(a.ingredientsRender,{ingredients:e});case 5:return r.a.createElement("div",{className:"".concat(T.a.submit," text-center")},r.a.createElement("h1",{className:"display-3 mb-5"},"Thank You!"),r.a.createElement("div",{className:"".concat(T.a.order_num_panel," shadow p-3")},r.a.createElement("h1",null,"Your order number is:"),r.a.createElement("h1",{className:"".concat(T.a.order_num," display-3")},"#"+n.state.orderNumber)));default:return r.a.createElement("div",null,r.a.createElement("p",null,"Something Went Wrong!"),r.a.createElement("button",{onClick:n.reset},"Return"))}},n.ingredientsRender=function(e){return r.a.createElement(j,{next:n.nextPage,previous:n.previousPage},e.ingredients.map(function(e){var t=n.state.order[n.state.order.length-1].ingredients;return r.a.createElement(k,{key:e.name,name:e.name,imgSrc:n.nameToImgSrc(e.name),isInStock:e.stock>0?"inStock":_.a.outOfStock,isselected:t.indexOf(e.name)>-1?_.a.selected:"",onClick:function(){return n.ingredientToggle(e)}})}))},n.orderID=0,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return!0===this.state.timeOver?r.a.createElement(C.a,{to:"/"}):r.a.createElement("div",{className:"row justify-content-start"},r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:T.a.menu_container},r.a.createElement(this.pageRender,null))),r.a.createElement(I,{total:this.calculateTotal(),back:this.previousPage},this.state.order.map(function(t,n){var a=t.ingredients;return r.a.createElement(x,{name:t.type,key:t.type+n,price:t.price.toFixed(2),onClick:function(){return e.deleteSandwich(n)}},a.map(function(t){return r.a.createElement(w,{key:t,name:t,onClick:function(){return e.deleteIngredient(t.name,n)}})}))})))}}]),t}(a.Component),W=(n(70),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={data:null,inventory:[],counter:0},n.getMenuData=function(e){return D.a.get("/api/menu").then(function(e){console.log("Menu Data:",e.data);var t=n.cloneIngredients(e.data.ingredients);n.setState({data:e.data,inventory:t}),console.log("Inventory:",n.state.inventory)}).catch(function(e){return console.log(e)}),e()},n.cloneIngredients=function(e){return e.map(function(e){var t=Object.assign({},e);return t.newStock=e.stock,t})},n.menuRender=function(e){return n.state.data?r.a.createElement(R,Object.assign({},e,{menuData:n.state.data,inventory:n.state.inventory,getMenuData:function(){return n.getMenuData()}})):r.a.createElement("h1",null,"Loading ....")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getMenuData(function(){}),D.a.get("/api/test").then(function(e){console.log(e.data,"hello")}).catch(function(e){return console.log(e)})}},{key:"handleInventoryChange",value:function(e){var t=e.target,n=t.value,a=t.name,r=this.state.inventory;r.forEach(function(e){e.name===a&&(e.newStock=n)}),this.setState({inventory:r})}},{key:"render",value:function(){return r.a.createElement("h1",null,"TEST Test")}}]),t}(a.Component));o.a.render(r.a.createElement(W,null),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.35de75d8.chunk.js.map